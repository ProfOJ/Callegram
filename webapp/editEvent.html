<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Edit Event</title>
    <link rel="stylesheet" href="assets/styles/shared.css" />
    <link rel="stylesheet" href="assets/styles/newEvent.css" />

    <link href="assets/animations/phone.json" rel="prefetch" />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.7.4/lottie.min.js"></script>

    <!-- original version -->
    <!-- <script src="https://telegram.org/js/telegram-web-app.js"></script> -->

    <!-- minified and compressed version which improves loading time by ~45% -->
    <script src="assets/scripts/telegram-web-app.js"></script>

    <!-- uncomment for debugging -->
    <!-- <script src="https://cdn.jsdelivr.net/npm/eruda"></script> -->

    <script src="assets/scripts/shared/telegram.js"></script>
    <script src="assets/scripts/shared/common.js"></script>
    <script src="assets/scripts/shared/network.js"></script>
    <script src="assets/scripts/shared/ui.js"></script>
  
    <script src="assets/scripts/editEvent/network.js"></script>
    <script src="assets/scripts/editEvent/app.js"></script>
    
    <!-- uncomment for debugging -->
    <!-- <script src="assets/scripts/shared/debug.js"></script> -->
  </head>
  <body>
    <script>
      const debug = false; // flip to true and uncomment the debug.js and eruda scripts above to enable debug mode
      initTelegramApp(debug);
      main().then(() => {});

      setTimeout(() => {
        const phoneIconAnimation = bodymovin.loadAnimation({
        container: document.getElementById('phoneIcon'),
        path: 'assets/animations/phone.json',
        renderer: 'svg',
        loop: true,
        autoplay: true,
        name: "Phone",
      });
      }, 0);
    </script>

    <main>
      <div class="pageSection hidden" data-section="1">
        <p>
          <span class="font-bold">1. </span>Pick a date for the call with
          <span class="font-bold" id="scheduleOwnerName">...</span>
        </p>

        <div class="scheduleWeekNames">
          <div class="weekDayName">.</div>
          <div class="weekDayName">.</div>
          <div class="weekDayName">.</div>
          <div class="weekDayName">.</div>
          <div class="weekDayName">.</div>
          <div class="weekDayName">.</div>
          <div class="weekDayName">.</div>
        </div>

        <div class="scheduleWeekDays">
          <div class="weekDay today">.</div>
          <div class="weekDay">.</div>
          <div class="weekDay">.</div>
          <div class="weekDay">.</div>
          <div class="weekDay">.</div>
          <div class="weekDay">.</div>
          <div class="weekDay">.</div>
          <div class="weekDay">.</div>
          <div class="weekDay">.</div>
          <div class="weekDay">.</div>
          <div class="weekDay">.</div>
          <div class="weekDay">.</div>
          <div class="weekDay">.</div>
          <div class="weekDay">.</div>
        </div>
      </div>

      <div class="pageSection hidden" data-section="2">
        <p><span class="font-bold">2. </span>Pick a call start time</p>

        <div id="scheduleTimeSelectorContainer">
          <select id="scheduleHourSelector"></select>
          <select id="scheduleMinuteSelector"></select>
        </div>
      </div>

      <div class="pageSection hidden" data-section="3">
        <p><span class="font-bold">3. </span>Is this correct?</p>
        
        <div id="scheduleConfirmationContainer">
          <div id="phoneIcon"></div>
          <div id="scheduleSummaryInfo">
            <div id="scheduleConfirmationDateTime">
              <span class="font-bold">When: </span>
              <div class="scheduleData"></div>
            </div>
            
            <div id="scheduleConfirmationDuration">
              <span class="font-bold">Duration: </span>
              <div class="scheduleData"></div>
            </div>
            
            <div id="scheduleConfirmationUser">
              <span class="font-bold">With: </span>
              <div class="scheduleData"></div>
            </div>
          </div>
        </div>
    </main>
  </body>

  <script>
    populateDays();
  </script>
</html>
